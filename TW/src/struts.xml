<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
    
<struts>
	
	<constant name="struts.multipart.maxSize" value="20971520" />

	<package name="default" extends="tiles-default">
		
		
		
		<!-- User interceptor -->
		<interceptors>
			<interceptor name="UserInterceptor" class="interceptor.UserInterceptor" />

			<interceptor-stack name="loginDefaultStack">
				<interceptor-ref name="UserInterceptor"/>
				<interceptor-ref name="defaultStack"/>
			</interceptor-stack>

		</interceptors>
		 
		<!-- 
		<default-interceptor-ref name="loginDefaultStack"/>
		 -->
		
		<global-results>
			<result name="login">/component/login.jsp</result>
		</global-results>
		
		
		<!-- Navi article -->
		<action name="Article">
			<result name="success" type="tiles">article</result>
		</action>
		
		<!-- Redirect to home page -->
		<action name="Home">
			<result name="success" type="tiles">index</result>
		</action>
		
		<action name="Org" >
			<result name="success" type="tiles">organization</result>
		</action>
		
		<action name="OrgDetail" >
			<result name="success" type="tiles">OrgDetail</result>
		</action>
		
		<action name="SecretaryOffice" >
			<result name="success" type="tiles">orgSecretariat</result>
		</action>
		
		<action name="OrganizationStructure" >
			<result name="success" type="tiles">orgStudent</result>
		</action>
		
		<action name="StudentsOrganiazation" >
			<result name="success" type="tiles">organ</result>
		</action>
		
		<action name="BasicYouthLeague" >
			<result name="success" type="tiles">orgBase</result>
		</action>
		
		<action name="AticalDetail" >
			<result name="success" type="tiles">AticalDetail</result>
		</action>
		
		<action name="Download" >
			<result name="success" type="tiles">download</result>
		</action>
		
		<action name="ConnectUs" >
			<result name="success" type="tiles">connect</result>
		</action>
		
		<action name="Search">
			<result name="success" type="tiles">search</result>
		</action>
		
		<action name="SearchPage">
			<result name="success" type="tiles">searchPage</result>
		</action>
		
		<action name="SearchDetail">
			<result name="success"  type="tiles">searchdetail</result>
		</action>
		
		
		<action name="Mail" >
			<result name="success" >/page/mail.jsp</result>
		</action>
		
		
		<action name="ckupload" class="action.CkeditorUploadAction">
			<result name="success" type="tiles">index</result>
		</action>
		
		<!-- Redirect to background page -->
		<!-- User1 -->
		<action name="BackHome">
			<result name="success" type="tiles">customer.edit</result>
		</action>
		
		<action name="ArticleList">
			<result name="success" type="tiles">customer.articleList</result>
		</action>
		
		<action name="uploadFile">
			<result name="success" type="tiles">customer.upload</result>
		</action>
		
		<action name="FileList">
			<result name="success" type="tiles">customer.fileList</result>
		</action>
		
		<action name="changePSW">
			<result name="success" type="tiles">customer.changePSW</result>
		</action>
		
		<!-- Show Modify Article -->
		<action name="ShowModifyArticle" class="action.ShowModifyArticleAction">
			<result name="success" type="tiles">customer.ShowModifyArticle</result>
		</action>
		
		<!-- User2 -->
		<action name="admin.BackHome">
			<result name="success" type="tiles">admin.edit</result>
		</action>
		
		<action name="admin.ArticleList">
			<result name="success" type="tiles">admin.articleList</result>
		</action>
		
		<action name="admin.uploadFile">
			<result name="success" type="tiles">admin.upload</result>
		</action>
		
		<action name="admin.FileList">
			<result name="success" type="tiles">admin.fileList</result>
		</action>
		
		<action name="admin.changePSW">
			<result name="success" type="tiles">admin.changePSW</result>
		</action>
		
		<action name="admin.topic">
			<result name="success" type="tiles">admin.topic</result>
		</action>
		
		<action name="admin.ListUser" class="action.ListUserAction">
			<result name="success" type="tiles">admin.userManage</result>
		</action>
		
		<action name="admin.ShowModifyArticle" class="action.ShowModifyArticleAction">
			<result name="success" type="tiles">admin.ShowModifyArticle</result>
		</action>
		
		<action name="admin.TurnGray" class="action.admin.TurnGrayAction">
			<result name="success" type="tiles">admin.themeManage</result>
		</action>
		
		<action name="admin.TurnOri" class="action.admin.TurnOriAction">
			<result name="success" type="tiles">admin.themeManage</result>
		</action>
		
		<action name="admin.ChangeTheme" >
			<result name="success" type="tiles">admin.themeManage</result>
		</action>
		<!-- Get Modify Files -->
		
		<action name="admin.topicPage" class="action.topic.TopicPageAction">
			<result name="success">/admin/topic/topicselect.jsp</result>
		</action>
		
		<action name="GetModifyFile" class="action.GetModifyFileAction">
			<result name="success">/userComponent/fileList.jsp</result>
		</action>
		
		<action name="admin.GetModifyFile" class="action.GetModifyFileAction">
			<result name="success">/admin/fileList.jsp</result>
		</action>

		<!-- login -->
		<action name="LoginAction" class="action.LoginAction">
			<result name="success">/page/loginSuccess.jsp</result>
			<result name="input">/component/login.jsp</result>
		</action>
		
		<!-- Login check -->
		<action name="CheckLogin" class="action.CheckLoginAction">
			<result name="success">/page/loginSuccess.jsp</result>
			<result name="input">/component/login.jsp</result>
		</action>
		
		<!-- Log out -->
		<action name="Logout" class="action.LogoutAction">
			<result name="success" type="tiles">index</result>
		</action>

		<!-- ipCount -->
		<action name="IpcountAction" class="action.IpcountAction">
			<result name="success">/component/ipHolder.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>

		<!-- update News -->
		<action name="UpdateNewsAction" class="action.UpdateNewsAction">
			<result name="success">/component/news.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>
		
		<!-- update Infos-->
		<action name="UpdateInfoAction" class="action.UpdateInfoAction">
			<result name="success">/component/info.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>
		
		<!-- update Theory -->
		<action name="UpdateTheoryAction" class="action.UpdateTheoryAction">
			<result name="success">/component/theory.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>
		
		<!-- update Media -->
		<action name="UpdateMediaAction" class="action.UpdateMediaAction">
			<result name="success">/component/media.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>

		<!-- Search Article -->
		<action name="SearchAction" class="action.SearchAction">
			<result name="success">/page/list.jsp</result>
		</action>
		
		<!-- Search then Page -->
		<action name="PageAction" class="action.PageAction">
			<result name="success">/page/list.jsp</result>
		</action>

		<!-- List Article -->
		<action name="DetailArticleAction" class="action.DetailArticleAction">
			<result name="success">page/detail.jsp</result>
		</action>
		

		<!-- Files Upload -->
		<action name="FileUploadAction" class="action.FileUploadAction">
			
			<result name="success">/UploadSuccess.jsp</result>
			<result name="input" type="tiles">customer.upload</result>
		</action>
		
		<!-- Topic image Upload -->
		<action name="TopicImgUploadAction" class="action.TopicImgUploadAction">
			<interceptor-ref name="fileUpload">
				<param name="allowedTypes">image/gif,image/jpeg,image/png,image/bmp</param>
			</interceptor-ref>
			<interceptor-ref name="defaultStack"/>
			<result name="success" type="redirect">TopicManage.do?topicid=${topicid}&amp;isnew=1</result>
			<result name="input">/admin/topic/topichange.jsp</result>
		</action>

		<!-- List organization -->
		<action name="OrgnizationAction" class="action.OrgnizationAction">
			<result name="success">/page/organization.jsp</result>
		</action>
		
		<!-- List organization Details -->
		<action name="OrganizationDetailAction" class="action.OrganizationDetailAction">
			<!-- interceptor -->

			<result name="success">/page/orgList.jsp</result>
		</action>
		
		<!-- Generic Article Detail -->
		<action name="GenericArticleDetail" class="action.GenericArticleDetail">
			<result name="success">/page/genericArticleDetail.jsp</result>
		</action>

		<!-- summit article -->
		<action name="SubmitArticleAction" class="action.SubmitArticleAction">
			
			<result name="success">/page/submitSuccess.jsp</result>
			<result name="imageSelect">/page/imageSelect.jsp</result>
			<interceptor-ref name="UserInterceptor"/>
			<interceptor-ref name="defaultStack"/>
			
		</action>
		
		<!-- Select image as main image -->
		<action name="SelectImage" class="action.SelectImageAction">
			<result name="success">/page/imageCrop.jsp</result>
		</action>

		

		<!-- Send email -->
		<action name="SendMailAction" class="action.SendMailAction">
			<result name="success">/page/sendMailSuccess.jsp</result>
			<result name="input" type="tiles">connect</result>
		</action>

		<!-- List User -->
		<action name="ListUser" class="action.ListUserAction">
			<result name="success">/admin/userManage.jsp</result>
		</action>
		
		<!-- Delete User -->
		<action name="DeleteUser" class="action.DeleteUserAction">
			<result name="success" type="redirect">ListUser.do</result>
		</action>
		
		<!-- Add User -->
		<action name="AddUserPage">
			<result name="success" type="tiles">admin.adduser</result>
		</action>
		
		<action name="AddUser" class="action.AddUserAction">
			<result name="success">/admin/addUserSuccess.jsp</result>
			<result name="input" type="tiles">admin.adduser</result>
		</action>
		
		<!-- Get Modify List -->
		<action name="GetModifyList" class="action.GetModifyListAction">
			<result name="success" type="tiles">admin.modifyuser</result>
		</action>
		
		<!-- Modify User -->
		<action name="ModifyUser" class="action.ModifyUserAction">
			<result name="success" type="redirect">admin.ListUser.do</result>
			<result name="input" type="tiles">admin.modifyuser</result>
		</action>
		
		<!-- Change Password -->
		<action name="ChangePassword" class="action.ChangePasswordAction">
			<result name="success">/userComponent/changePswSuccess.jsp</result>
			<result name="input">/userComponent/changePSW.jsp</result>
		</action>
		
		<!-- Delete Article -->
		<action name="DeleteArticle" class="action.admin.DeleteArticleAction">
			<result name="success" type="redirect">/ArticleList.do</result>
		</action>
		
		
		<!-- Write Index -->
		<action name="writeIndex" class="action.lucene.WriteIndexAction">
			<result name="success">/component/login.jsp</result>
		</action>
		
		<!-- Get Modify Articles -->
		<action name="GetModifyArticle" class="action.GetModifyArticleAction">
			<result name="success">/userComponent/articleList.jsp</result>
		</action>
		
		<action name="admin.GetModifyArticle" class="action.admin.GetModifyArticleAction">
			<result name="success">/admin/articleList.jsp</result>
		</action>
		
		
		<!-- Modify Article -->
		<action name="ModifyArticle" class="action.ModifyArticleAction">
			<result name="success">/userComponent/modifySuccess.jsp</result>
			<result name="imageSelect">/page/imageSelect.jsp</result>
		</action>
		
		<!-- Navigation List -->
		
			<!-- Get Article -->
			<action name="GetArticleAction" class="action.navigation.GetArticleAction">
				<result name="success">/naviPage/aricle.jsp</result>
			</action>
			
			<!-- Org -->
			<action name="OrgList" class="action.navigation.OrgListAction">
				<result name="success">/naviPage/orgList.jsp</result>
			</action>
		
		<!-- Navi Page Action -->
		<action name="NaviPage" class="action.navigation.page.NaviPageAction">
			<result name="success">/naviPage/aricle.jsp</result>
		</action>
		
		<!-- Download Files -->
		<action name="DownloadAction" class="action.navigation.DownloadAction">
			<result name="success">/naviPage/download.jsp</result>
		</action>
		
		<!-- Pic news  -->
		<action name="Picnews" class="action.PicnewsAction">
			<result name="success">/component/picNews.jsp</result>
		</action>
		
		<!-- Download file  -->
		<action name="FileDownloadAction" class="action.FileDownloadAction">
			<result name="success" type="stream">
				<param name="inputName">targetFile</param> 
				<param name="contentDisposition">attachment;filename="${filename}"</param> 
			</result>
		</action>
		
		
		<!-- Topic block -->
			<action name="TopicChange" class="action.topic.TopicChangeAction">
				<result name="success" type="tiles">admin.topichange</result>
			</action>
			
			<action name="TopicManage" class="action.topic.TopicManageAction">
				<result name="success" type="tiles">admin.topicmanage</result>
			</action>
			
			<action name="TopicDecision" class="action.topic.TopicDecisionAction">
				<result name="success" type="tiles">admin.success</result>
			</action>
			
			<!-- Homepage topic -->
			<action name="TopicList" class="action.topic.TopicListAction">
				<result name="success">/page/topicList.jsp</result>
			</action>
			
			<action name="TopicListPage">
				<result name="success" type="tiles">topicList</result>
			</action>
			
			<action name="Topic" class="action.topic.TopicAction">
				<result name="success">/component/topic.jsp</result>
			</action>

			
			<!-- Top -->
			<action name="Top" class="action.admin.TopAction">
				<result name="success" type="redirect">admin.ArticleList.do</result>
			</action>

			
		<action name="OrgListPage" >
			<result name="success" type="tiles">orgList</result>
		</action>
		
		<action name="OrgManageListPage">
			<result name="success" type="tiles">admin.OrgManageList</result>
		</action>
		
		<action name="TopicPageAction" class="action.topic.TopicPageAction">
			<result name="success">/component/topic.jsp</result>
		</action>
		
		<action name="CropAction" class="action.CropAction">
			<result name="success" type="tiles">admin.success</result>
		</action>
		
		<action name="OrgAddPage">
			<result name="success" type="tiles">admin.OrgAdd</result>
		</action>
		
		<action name="OrgModifyPage">
			<result name="success" type="tiles">admin.OrgModify</result>
		</action>


		<!-- Org Management -->
		<action name="OrgManageList" class="action.admin.OrgManageListAction">
			<result name="success">/admin/orgManage/orgManageList.jsp</result>
		</action>
		<action name="OrgModify" class="action.admin.OrgModifyAction">
			<result name="success">/admin/orgManage/orgModify.jsp</result>
		</action>
		<action name="OrgDelete" class="action.admin.OrgDeleteAction">
			<result name="success" type="redirect">OrgManageList.do</result>
		</action>
		<action name="OrgUpdate" class="action.admin.OrgUpdateAction">
			<result name="success" type="redirect">OrgManageList.do</result>
		</action>
		<action name="OrgAdd" class="action.admin.OrgAddAction">
			<result name="success" type="redirect">OrgManageListPage.do</result>
		</action>
		
	</package>

</struts>

    
												

		