<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
    
<struts>
	<constant name="struts.multipart.maxSize" value="20971520" />

	<package name="default" extends="tiles-default">
		
		
		
		<!-- User interceptor -->
		<interceptors>
			<interceptor name="UserInterceptor" class="interceptor.UserInterceptor" />

			<interceptor-stack name="loginDefaultStack">
				<interceptor-ref name="UserInterceptor"/>
				<interceptor-ref name="defaultStack"/>
			</interceptor-stack>

		</interceptors>
		 
		<!-- 
		<default-interceptor-ref name="loginDefaultStack"/>
		 -->
		
		<global-results>
			<result name="login">/component/login.jsp</result>
		</global-results>
		
		
		<!-- Redirect to home page -->
		<action name="Home">
			<result name="success" type="tiles">index</result>
		</action>
		
		<action name="Org" >
			<result name="success" type="tiles">organization</result>
		</action>
		
		<action name="OrgDetail" >
			<result name="success" type="tiles">OrgDetail</result>
		</action>
		
		<action name="ConnectUs" >
			<result name="success" type="tiles">connect</result>
		</action>
		
		<action name="Mail" >
			<result name="success" >/page/mail.jsp</result>
		</action>
		
		<action name="ckupload" class="action.CkeditorUploadAction">
			<result name="success" type="tiles">index</result>
		</action>
		
		<!-- Redirect to background page -->
		<action name="BackHome">
			<result name="success" type="tiles">edit</result>
		</action>
		
		<action name="ArticleList">
			<result name="success" type="tiles">articleList</result>
		</action>
		
		<action name="uploadFile">
			<result name="success" type="tiles">upload</result>
		</action>
		
		<action name="FileList">
			<result name="success" type="tiles">fileList</result>
		</action>
		
		<action name="changePSW">
			<result name="success" type="tiles">changePSW</result>
		</action>
		

		<!-- login -->
		<action name="LoginAction" class="action.LoginAction">
			<result name="success" >/page/loginSuccess.jsp</result>
			<result name="input">/component/login.jsp</result>
		</action>

		<!-- ipCount -->
		<action name="IpcountAction" class="action.IpcountAction">
			<result name="success">/component/ipHolder.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>

		<!-- updateNews -->
		<action name="UpdateNewsAction" class="action.UpdateNewsAction">
			<result name="success">/component/news.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>
		
		<!-- updateNews -->
		<action name="UpdateInfoAction" class="action.UpdateInfoAction">
			<result name="success">/component/info.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>
		
		<!-- updateNews -->
		<action name="UpdateTheoryAction" class="action.UpdateTheoryAction">
			<result name="success">/component/theory.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>
		
		<!-- updateNews -->
		<action name="UpdateMediaAction" class="action.UpdateMediaAction">
			<result name="success">/component/media.jsp</result>
			<result name="input" type="tiles">index</result>
		</action>

		<!-- Search Article -->
		<action name="SearchAction" class="action.SearchAction">
			<result name="success">/page/list.jsp</result>
		</action>
		
		<!-- Search then Page -->
		<action name="PageAction" class="action.PageAction">
			<result name="success">/page/list.jsp</result>
		</action>

		<!-- List Article -->
		<action name="DetailArticleAction" class="action.DetailArticleAction">
			<result name="success">page/detail.jsp</result>
		</action>
		

		<!-- Files Upload -->
		<action name="FileUploadAction" class="action.FileUploadAction">
			<!-- result name="success" type="redirect">Home.do</result> -->
			<result name="success">/UploadSuccess.jsp</result>
			<result name="input">/FileUpload.jsp</result>
		</action>

		<!-- List organization -->
		<action name="OrgnizationAction" class="action.OrgnizationAction">
			<result name="success">/page/organization.jsp</result>
		</action>
		
		<!-- List organization Details -->
		<action name="OrganizationDetailAction" class="action.OrganizationDetailAction">
			<!-- interceptor -->

			<result name="success">/page/orgList.jsp</result>
		</action>

		<!-- summit article -->
		<action name="SubmitArticleAction" class="action.SubmitArticleAction">
			
			<result name="success">/page/submitSuccess.jsp</result>
			<result name="imageSelect">/page/imageSelect.jsp</result>
			<interceptor-ref name="UserInterceptor"/>
			<interceptor-ref name="defaultStack"/>
			
		</action>
		
		<!-- Select image as main image -->
		<action name="SelectImage" class="action.SelectImageAction">
			<result name="success">/page/imageSelectSuccess.jsp</result>
		</action>

		

		<!-- Send email -->
		<action name="SendMailAction" class="action.SendMailAction">
			<result name="success">/page/sendMailSuccess.jsp</result>
			<result name="input">/mail.jsp</result>
		</action>

		<!-- List User -->
		<action name="ListUser" class="action.ListUserAction">
			<result name="success">/admin/userManage.jsp</result>
		</action>
		
		<!-- Delete User -->
		<action name="DeleteUser" class="action.DeleteUserAction">
			<result name="success" type="redirect">ListUser.do</result>
		</action>
		
		<!-- Add User -->
		<action name="AddUser" class="action.AddUserAction">
			<result name="success">/admin/addUserSuccess.jsp</result>
			<result name="input">/admin/adduser.jsp</result>
		</action>
		
		<!-- Get Modify List -->
		<action name="GetModifyList" class="action.GetModifyListAction">
			<result name="success">/admin/modifyuser.jsp</result>
		</action>
		
		<!-- Modify User -->
		<action name="ModifyUser" class="action.ModifyUserAction">
			<result name="success" type="redirect">ListUser.do</result>
			<result name="input">/admin/modifyuser.jsp</result>
		</action>
		
		<!-- Change Password -->
		<action name="ChangePassword" class="action.ChangePasswordAction">
			<result name="success">/userComponent/changePswSuccess.jsp</result>
			<result name="input">/userComponent/changePSW.jsp</result>
		</action>
		
		<!-- Write Index -->
		<action name="writeIndex" class="action.lucene.WriteIndexAction">
			<result name="success">/component/login.jsp</result>
		</action>
		
		<!-- Get Modify Articles -->
		<action name="GetModifyArticle" class="action.GetModifyArticleAction">
			<result name="success">/userComponent/articleList.jsp</result>
		</action>
		
		<!-- Show Modify Article -->
		<action name="ShowModifyArticle" class="action.ShowModifyArticleAction">
			<result name="success">/userComponent/modifyArticle.jsp</result>
		</action>
		
		<!-- Modify Article -->
		<action name="ModifyArticle" class="action.ModifyArticleAction">
			<result name="success">/userComponent/modifySuccess.jsp</result>
			<result name="imageSelect">/page/imageSelect.jsp</result>
		</action>
	</package>

</struts>

    
												

		